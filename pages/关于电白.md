---
title: 关于电白
layout: about
permalink: /关于电白.html
---
# 地图

<a href="https://www.google.com/maps/d/edit?mid=1mP5OR8YBhOpr3cSWoeiEZroh3FU-eCw&usp=sharing" target="_blank">查看地图</a>

<iframe src="https://www.google.com/maps/d/embed?mid=1mP5OR8YBhOpr3cSWoeiEZroh3FU-eCw&ehbc=2E312F " width="1280" height="480"></iframe>

https://www.google.com/maps/d/edit?mid=1HaruTPmS8vnlZUgidk--17sfqPtov5U&usp=sharing
<!DOCTYPE html>
<html lang="hak" class="h-100">
  <head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>故事一覽 | 圍頭與客家</title>
<link rel="shortcut icon" type="image/x-icon" href="/hki-stories/favicon.png">
<!--
  _____     ____        __  _           ___       _ __   __       
 / ___/__  / / /__ ____/ /_(_)__  ___  / _ )__ __(_) /__/ /__ ____
/ /__/ _ \/ / / -_) __/ __/ / _ \/ _ \/ _  / // / / / _  / -_) __/
\___/\___/_/_/\__/\__/\__/_/\___/_//_/____/\_,_/_/_/\_,_/\__/_/   
   
    built with CollectionBuilder-GH
    https://github.com/CollectionBuilder/collectionbuilder-gh 
-->
<meta name="generator" content="collectionbuilder-gh" />
<meta http-equiv="Content-Language" content="en-us" >

<!-- load style sheets -->

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.1.3/dist/yeti/bootstrap.min.css" type="text/css">




<!-- load custom css last to allow overrides -->
<link rel="stylesheet" href="/hki-stories/assets/css/cb.css" type="text/css">


<meta name="description" content="本網站是&lt;strong&gt;《圍頭與客家——香港本土語言故事》&lt;/strong&gt;（劉擇明、鄧以楷著，2024）一書的電子版，收集香港本地鄉郊的圍頭話及客家話故事，涵蓋童話故事、民間傳說、古蹟歷史、傳統風俗、鄉村生活等範疇，並附以錄音、卡通及插畫或圖片等多媒體資源，供大眾學習，傳承本土語言，認識本土文化，接觸市區以外香港的另一面。">
<meta name="author" content="劉擇明、鄧以楷; 香港教育大學　語言學及語言學研究中心" >
<!-- DC meta --> 
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" />
<meta name="DCTERMS.title" content="故事一覽, 圍頭與客家" xml:lang="en" />
<meta name="DCTERMS.creator" content="劉擇明、鄧以楷" xml:lang="en" />
<meta name="DCTERMS.publisher" content="香港教育大學　語言學及語言學研究中心" xml:lang="en" />
<meta name="DCTERMS.date" content="2024" xml:lang="en" />
<meta name="DCTERMS.description" content="本網站是&lt;strong&gt;《圍頭與客家——香港本土語言故事》&lt;/strong&gt;（劉擇明、鄧以楷著，2024）一書的電子版，收集香港本地鄉郊的圍頭話及客家話故事，涵蓋童話故事、民間傳說、古蹟歷史、傳統風俗、鄉村生活等範疇，並附以錄音、卡通及插畫或圖片等多媒體資源，供大眾學習，傳承本土語言，認識本土文化，接觸市區以外香港的另一面。" xml:lang="en" />

<!-- Open Graph meta -->
<meta property="og:site_name" content="圍頭與客家" />
<meta property="og:type" content="website" />
<meta property="og:title" content="故事一覽, 圍頭與客家" />
<meta property="og:description" content="《圍頭與客家——香港本土語言故事》電子版，提供圍頭話及客家話故事的錄音、卡通、文本，供大眾學習，傳承本土語言。" />
<meta property="og:image" content="https://chaaklau.github.io/hki-stories/assets/img/hkistories-ogcover.jpg" />
<meta property="og:image:alt" content="CollectionBuilder logo" />
<meta property="og:url" content="https://chaaklau.github.io/hki-stories/browse.html" />
<meta property="og:locale" content="zh_HK" />

<!-- schema.org JSON-LD -->
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"故事一覽, 圍頭與客家","publisher":"香港教育大學　語言學及語言學研究中心","description":"本網站是<strong>《圍頭與客家——香港本土語言故事》</strong>（劉擇明、鄧以楷著，2024）一書的電子版，收集香港本地鄉郊的圍頭話及客家話故事，涵蓋童話故事、民間傳說、古蹟歷史、傳統風俗、鄉村生活等範疇，並附以錄音、卡通及插畫或圖片等多媒體資源，供大眾學習，傳承本土語言，認識本土文化，接觸市區以外香港的另一面。","image":"https://chaaklau.github.io/hki-stories/assets/img/hkistories-ogcover.jpg","url":"https://chaaklau.github.io/hki-stories/browse.html"}</script> 


<!-- Analytics --> 

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-5MCE9JJSH5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-5MCE9JJSH5', {
    'anonymize_ip': true
  });
</script>


<!-- Last build date: 2024-12-31 -->
    <meta
      property="og:description"
      content="本網站是&lt;strong&gt;《圍頭與客家——香港本土語言故事》&lt;/strong&gt;（劉擇明、鄧以楷著，2024）一書的電子版，收集香港本地鄉郊的圍頭話及客家話故事，涵蓋童話故事、民間傳說、古蹟歷史、傳統風俗、鄉村生活等範疇，並附以錄音、卡通及插畫或圖片等多媒體資源，供大眾學習，傳承本土語言，認識本土文化，接觸市區以外香港的另一面。"
    />
    <meta
      name="description"
      content="本網站是&lt;strong&gt;《圍頭與客家——香港本土語言故事》&lt;/strong&gt;（劉擇明、鄧以楷著，2024）一書的電子版，收集香港本地鄉郊的圍頭話及客家話故事，涵蓋童話故事、民間傳說、古蹟歷史、傳統風俗、鄉村生活等範疇，並附以錄音、卡通及插畫或圖片等多媒體資源，供大眾學習，傳承本土語言，認識本土文化，接觸市區以外香港的另一面。"
    />
    <meta
      name="keywords"
      content="圍頭話, 客家話, 本土語言, 香港, 故事, 文化, 歷史, 習俗, Waitau, Hakka, indigenous languages, Hong Kong, stories, culture, history, customs"
    />
    <meta
      property="og:title"
      content="故事一覽"
    />
    <meta property="og:url" content="https://chaaklau.github.io/hki-stories/browse.html" />
    <meta
      property="og:image"
      content="https://chaaklau.github.io/hki-stories/assets/img/logo-crlls.png"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@eduhkcrlls" />
    <meta name="twitter:creator" content="@eduhkcrlls" />
    <meta
      name="twitter:title"
      content="故事一覽"
    />
    <meta
      name="twitter:description"
      content="本網站是&lt;strong&gt;《圍頭與客家——香港本土語言故事》&lt;/strong&gt;（劉擇明、鄧以楷著，2024）一書的電子版，收集香港本地鄉郊的圍頭話及客家話故事，涵蓋童話故事、民間傳說、古蹟歷史、傳統風俗、鄉村生活等範疇，並附以錄音、卡通及插畫或圖片等多媒體資源，供大眾學習，傳承本土語言，認識本土文化，接觸市區以外香港的另一面。"
    />
    <meta
      name="twitter:image"
      content="https://chaaklau.github.io/hki-stories/assets/img/logo-crlls.png"
    />
  </head>
  <body class="d-flex flex-column h-100">
    <div id="skip-to-content">
      <a href="#maincontent">Skip to main content</a>
    </div>
    
<style>
#page-banner {
    background-image: url('/hki-stories/assets/img/props-roof.png');
    background-size: 100% auto;
    background-repeat: no-repeat;
    background-position: center;
    max-width: none;
}
@media screen and (max-width: 768px) {
    #page-banner {
        background-size: cover;
        background-position: left;
    }
}
</style>
<div id="page-banner" class="container">
    <div class="container">
    <div class="row align-items-center">
        <div id="title" class="col-12 p-2 text-center">
            <h3><a class="text-dark font-weight-normal bg-light bg-opacity-50" href="/hki-stories/" >圍頭與客家   <br/> <small>Waitau and Hakka</small>  </a></h3>	 
            
        </div>
        
    </div>
</div>
</div> <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#page-nav" aria-controls="page-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <span class="d-lg-none text-end">
            <a href="https://crlls.eduhk.hk" target="_blank" rel="noopener">
                <img class="img-fluid" id="mobile-nav-image" src="/hki-stories/assets/img/logo-crlls.png" title="香港教育大學　語言學及語言學研究中心" alt="香港教育大學　語言學及語言學研究中心 home" >
            </a>
        </span>
        
        <div class="collapse navbar-collapse" id="page-nav">
            <ul class="navbar-nav me-auto">
                
                <li class="nav-item">
                    <a class="nav-link" href="/hki-stories/">主頁</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/hki-stories/about.html">計劃介紹</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/hki-stories/waitau.html#%E5%9C%8D%E9%A0%AD%E8%A9%B1">圍頭話故事</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/hki-stories/hakka.html#%E5%AE%A2%E5%AE%B6%E8%A9%B1">客家話故事</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link active" href="/hki-stories/browse.html">故事一覽</a>
                </li></ul>
            
            <!-- <script>
    function site_search() {
        var query = document.getElementById("site-search").value;
        window.open("/hki-stories/search/index.html?q=" + encodeURIComponent(query), "_self" );
    }
</script>
<form class="form-inline my-2 my-lg-0" role="search" id="search" onsubmit="site_search(); return false;">
    <div class="input-group">
        <input id="site-search" class="form-control " type="text" placeholder="Search" aria-label="Search box">
        <button class="btn btn-light" type="submit">
            <span id="search-icon"><svg viewBox="0 0 1024 974" height="16px" width="20px"><path d="M960 832L710.875 582.875C746.438 524.812 768 457.156 768 384 768 171.96900000000005 596 0 384 0 171.969 0 0 171.96900000000005 0 384c0 212 171.969 384 384 384 73.156 0 140.812-21.562 198.875-57L832 960c17.5 17.5 46.5 17.375 64 0l64-64C977.5 878.5 977.5 849.5 960 832zM384 640c-141.375 0-256-114.625-256-256s114.625-256 256-256 256 114.625 256 256S525.375 640 384 640z"/></svg></span>
            <span class="visually-hidden">Search</span>
        </button>
    </div>
</form> -->
            
        </div>
    </div>
</nav>

    <main id="maincontent" role="main" class="flex-shrink-0">
      <div class="container my-4">
    <h1 id="故事一覽">故事一覽</h1>



<div class="row mb-3 justify-content-center" >
    <div class="col-md-8 text-center">
        <form class="" role="search" id="lunrSearch" onsubmit="submitFilter(); return false;">
            <div class="input-group input-group-lg">
                <input type="text" class="form-control" id="filterTextBox" placeholder="篩選 ... " aria-label="Search"> 
                <button class="btn btn-success" type="submit" title="Filter items" alt="搜尋" id="filterButton" >Search</button>
                <button class="btn btn-outline-secondary filter" onclick="resetFilter(); return false;" data-filter="">Reset</button>
            </div>
        </form>
        <div class="h2" id="numberOf"></div>
    </div>
    <div class="col-md-2">
        <div class="dropdown">
            <button class="btn btn-secondary mt-1 dropdown-toggle" type="button" id="browseSortButton" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                排序方式： <span class="font-weight-bold" id="sortFilter">Random</span>
            </button>
            <div class="dropdown-menu browse-sort-menu" aria-labelledby="browseSortButton">
                <button class="dropdown-item browse-sort-item active" data-filter="title">隨機</button>
                <button class="dropdown-item browse-sort-item" data-filter="title">標題</button>
                
                
            </div>
        </div>
    </div>
</div>

<div id="loadingIcon" class="text-center">
    <div class="spinner-border text-dark" role="status"><span class="visually-hidden">載入中...</span></div>
</div>

<div class="row" id="browseItems" filter-language=""></div>

</div>

    </main>
    <footer class="bg-light bg-opacity-50 pt-4 mt-auto container-fluid">

    <div class="row border-bottom border-black pb-4 mb-2">

        <div class="col-md-7  px-4 mt-2">

            <h2 class="h4"><a href="/hki-stories/" class="text-dark font-weight-normal">圍頭與客家</a></h2>
            <p class="text-dark"><small>《圍頭與客家——香港本土語言故事》電子版，提供圍頭話及客家話故事的錄音、卡通、文本，供大眾學習，傳承本土語言。</small></p>
            <nav>
                <ul id="footer-nav" class="nav nav-pills ">
                    <li class="nav-item">
                    
                        <a class="nav-link text-dark" href="/hki-stories/">主頁</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-dark" href="/hki-stories/about.html">計劃介紹</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-dark" href="/hki-stories/waitau.html#%E5%9C%8D%E9%A0%AD%E8%A9%B1">圍頭話故事</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-dark" href="/hki-stories/hakka.html#%E5%AE%A2%E5%AE%B6%E8%A9%B1">客家話故事</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-dark active" href="/hki-stories/browse.html">故事一覽</a>
                    </li></ul>
            </nav>

        </div>

    </div>

    <div class="col-md-12 pt-3 pb-1 bg-white">
         <p class="text-center">
            <div class="row">
                <div class="col-md-4 text-end">
                    <a href="https://crlls.eduhk.hk" target="_blank" rel="noopener">
                        <img id="footer-logo" class="img-fluid" src="/hki-stories/assets/img/logo-crlls.png" alt="香港教育大學　語言學及語言學研究中心" style="height: 100px;">
                    </a>
                </div>
                <div class="col-md-8">
                    <span class="text-dark">香港教育大學　語言學及語言學研究中心 <br/> <small>Centre for Research on Linguistics and Language Studies (CRLLS), The Education University of Hong Kong</small></span>    
                    <small><p class="text-dark">最近更新 Last updated 2024</p></small>
                </div>
            </div>
        </p>
        
        <p class="text-dark text-end" id="footer-credits">
            <small><em>built with <strong>CollectionBuilder</strong></em>
                <a href="https://collectionbuilder.github.io/" target="_blank" rel="noopener" title="CollectionBuilder">
                    <img src="/hki-stories/assets/img/collectionbuilder-logo.png" class="img-fluid" alt="CollectionBuilder logo" >
                </a>
            </small>
        </p>
    </div>

</footer> <!-- Bootstrap bundle JS -->
<script src="/hki-stories/assets/lib/bootstrap.bundle.min.js"></script>
<!-- load other js -->
<script src="/hki-stories/assets/lib/lazysizes.min.js" async></script>

<script>

/* add items */
var items = [
    
    { "title":"熊家嫲", "hkilang":  "客家話" ,"format":"compound_object", "subject":"童話故事;客家話",   "cover_image":"/hki-stories/objects/h0001-1.jpg" , "filename":"/hki-stories/objects/", "link": "h0001", "id":"h0001" },
    { "title":"牙牙發", "hkilang":  "客家話" ,"format":"compound_object", "subject":"童話故事;客家話",   "cover_image":"/hki-stories/objects/h0002-3.jpg" , "filename":"/hki-stories/objects/", "link": "h0002", "id":"h0002" },
    { "title":"狗徑索", "hkilang":  "客家話" ,"format":"compound_object", "subject":"童話故事;客家話",   "cover_image":"/hki-stories/objects/h0003-3.jpg" , "filename":"/hki-stories/objects/", "link": "h0003", "id":"h0003" },
    { "title":"狐假虎威", "hkilang":  "客家話" ,"format":"compound_object", "subject":"童話故事;客家話",   "cover_image":"/hki-stories/objects/h0004-4.jpg" , "filename":"/hki-stories/objects/", "link": "h0004", "id":"h0004" },
    { "title":"塞翁失馬", "hkilang":  "客家話" ,"format":"compound_object", "subject":"民間傳說;客家話",   "cover_image":"/hki-stories/objects/h0005-1.jpg" , "filename":"/hki-stories/objects/", "link": "h0005", "id":"h0005" },
    { "title":"人心節節高", "hkilang":  "客家話" ,"format":"compound_object", "subject":"童話故事;客家話",   "cover_image":"/hki-stories/objects/h0006-2.jpg" , "filename":"/hki-stories/objects/", "link": "h0006", "id":"h0006" },
    { "title":"老虎摎貓嘅故事", "hkilang":  "客家話" ,"format":"compound_object", "subject":"童話故事;客家話",   "cover_image":"/hki-stories/objects/h0007-2.jpg" , "filename":"/hki-stories/objects/", "link": "h0007", "id":"h0007" },
    { "title":"貓狗結怨", "hkilang":  "客家話" ,"format":"compound_object", "subject":"童話故事;客家話",   "cover_image":"/hki-stories/objects/h0008-2.jpg" , "filename":"/hki-stories/objects/", "link": "h0008", "id":"h0008" },
    { "title":"死食嘅廖官玉", "hkilang":  "客家話" ,"format":"compound_object", "subject":"民間傳說;客家話",   "cover_image":"/hki-stories/objects/h0009-1.jpg" , "filename":"/hki-stories/objects/", "link": "h0009", "id":"h0009" },
    { "title":"林村許願樹", "hkilang":  "客家話" ,"format":"compound_object", "subject":"古蹟歷史;客家話",   "cover_image":"/hki-stories/objects/h0010-1.jpg" , "filename":"/hki-stories/objects/", "link": "h0010", "id":"h0010" },
    { "title":"沙田山廈圍曾大屋", "hkilang":  "客家話" ,"format":"compound_object", "subject":"古蹟歷史;客家話",   "cover_image":"/hki-stories/objects/h0011-1.jpg" , "filename":"/hki-stories/objects/", "link": "h0011", "id":"h0011" },
    { "title":"曾貫萬致富傳說", "hkilang":  "客家話" ,"format":"compound_object", "subject":"民間傳說;客家話",   "cover_image":"/hki-stories/objects/h0012-2.jpg" , "filename":"/hki-stories/objects/", "link": "h0012", "id":"h0012" },
    { "title":"客家才子宋湘", "hkilang":  "客家話" ,"format":"compound_object", "subject":"民間傳說;客家話",   "cover_image":"/hki-stories/objects/h0013-1.jpg" , "filename":"/hki-stories/objects/", "link": "h0013", "id":"h0013" },
    { "title":"舞麒麟迎親", "hkilang":  "客家話" ,"format":"compound_object", "subject":"傳統風俗;客家話",   "cover_image":"/hki-stories/objects/h0014-1.jpg" , "filename":"/hki-stories/objects/", "link": "h0014", "id":"h0014" },
    { "title":"茶粿摎清明仔", "hkilang":  "客家話" ,"format":"compound_object", "subject":"傳統風俗;客家話",   "cover_image":"/hki-stories/objects/h0015-3.jpg" , "filename":"/hki-stories/objects/", "link": "h0015", "id":"h0015" },
    { "title":"製鹽教友村鹽田梓", "hkilang":  "客家話" ,"format":"compound_object", "subject":"鄉村生活;客家話",   "cover_image":"/hki-stories/objects/h0016-11.jpg" , "filename":"/hki-stories/objects/", "link": "h0016", "id":"h0016" },
    { "title":"早禾坑村生活點滴", "hkilang":  "客家話" ,"format":"compound_object", "subject":"鄉村生活;客家話",   "cover_image":"/hki-stories/objects/h0017-1.jpg" , "filename":"/hki-stories/objects/", "link": "h0017", "id":"h0017" },
    { "title":"柴灣羅屋民俗館", "hkilang":  "客家話" ,"format":"compound_object", "subject":"古蹟歷史;客家話",   "cover_image":"/hki-stories/objects/h0018-5.jpg" , "filename":"/hki-stories/objects/", "link": "h0018", "id":"h0018" },
    { "title":"荃灣三棟屋博物館", "hkilang":  "客家話" ,"format":"compound_object", "subject":"古蹟歷史;客家話",   "cover_image":"/hki-stories/objects/h0019-1.jpg" , "filename":"/hki-stories/objects/", "link": "h0019", "id":"h0019" },
    { "title":"錦田江廈圍大宅", "hkilang":  "客家話" ,"format":"compound_object", "subject":"古蹟歷史;客家話",   "cover_image":"/hki-stories/objects/h0020-1.jpg" , "filename":"/hki-stories/objects/", "link": "h0020", "id":"h0020" },
    { "title":"皇姑嫁睇牛仔", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"民間傳說;圍頭話",   "cover_image":"/hki-stories/objects/w0001-1.jpg" , "filename":"/hki-stories/objects/", "link": "w0001", "id":"w0001" },
    { "title":"錦田樹屋", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"古蹟歷史;圍頭話",   "cover_image":"/hki-stories/objects/w0002-1.jpg" , "filename":"/hki-stories/objects/", "link": "w0002", "id":"w0002" },
    { "title":"屏山古井", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"古蹟歷史;圍頭話",   "cover_image":"/hki-stories/objects/w0003-1.jpg" , "filename":"/hki-stories/objects/", "link": "w0003", "id":"w0003" },
    { "title":"屏山聚星樓", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"古蹟歷史;圍頭話",   "cover_image":"/hki-stories/objects/w0004-1.jpg" , "filename":"/hki-stories/objects/", "link": "w0004", "id":"w0004" },
    { "title":"圍村點燈", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"傳統風俗;圍頭話",   "cover_image":"/hki-stories/objects/w0005-12.jpg" , "filename":"/hki-stories/objects/", "link": "w0005", "id":"w0005" },
    { "title":"丫髻山風水名穴", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"民間傳說;圍頭話",   "cover_image":"/hki-stories/objects/w0006-8.jpg" , "filename":"/hki-stories/objects/", "link": "w0006", "id":"w0006" },
    { "title":"祭祖吃山頭", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"傳統風俗;圍頭話",   "cover_image":"/hki-stories/objects/w0007-1.jpg" , "filename":"/hki-stories/objects/", "link": "w0007", "id":"w0007" },
    { "title":"打醮行香", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"傳統風俗;圍頭話",   "cover_image":"/hki-stories/objects/w0008-3.jpg" , "filename":"/hki-stories/objects/", "link": "w0008", "id":"w0008" },
    { "title":"吉慶圍文物二三事", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"古蹟歷史;圍頭話",   "cover_image":"/hki-stories/objects/w0009-1.jpg" , "filename":"/hki-stories/objects/", "link": "w0009", "id":"w0009" },
    { "title":"新界盆菜起源", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"傳統風俗;圍頭話",   "cover_image":"/hki-stories/objects/w0010-4.jpg" , "filename":"/hki-stories/objects/", "link": "w0010", "id":"w0010" },
    { "title":"太公分豬肉", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"傳統風俗;圍頭話",   "cover_image":"/hki-stories/objects/w0011-6.jpg" , "filename":"/hki-stories/objects/", "link": "w0011", "id":"w0011" },
    { "title":"茶粿同清明仔", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"傳統風俗;圍頭話",   "cover_image":"/hki-stories/objects/w0012-2.jpg" , "filename":"/hki-stories/objects/", "link": "w0012", "id":"w0012" },
    { "title":"流浮山蠔香飄飄", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"鄉村生活;圍頭話",   "cover_image":"/hki-stories/objects/w0013-3.jpg" , "filename":"/hki-stories/objects/", "link": "w0013", "id":"w0013" },
    { "title":"阿牛出城記", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"鄉村生活;圍頭話",   "cover_image":"/hki-stories/objects/w0014-1.jpg" , "filename":"/hki-stories/objects/", "link": "w0014", "id":"w0014" },
    { "title":"塱原生活記趣", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"鄉村生活;圍頭話",   "cover_image":"/hki-stories/objects/w0015-3.jpg" , "filename":"/hki-stories/objects/", "link": "w0015", "id":"w0015" },
    { "title":"田中生活雜憶", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"鄉村生活;圍頭話",   "cover_image":"/hki-stories/objects/w0016-3.jpg" , "filename":"/hki-stories/objects/", "link": "w0016", "id":"w0016" },
    { "title":"錦田便母橋", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"古蹟歷史;圍頭話",   "cover_image":"/hki-stories/objects/w0017-1.jpg" , "filename":"/hki-stories/objects/", "link": "w0017", "id":"w0017" },
    { "title":"蟛蜞同佬仔", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"民間傳說;圍頭話",   "cover_image":"/hki-stories/objects/w0018-1.jpg" , "filename":"/hki-stories/objects/", "link": "w0018", "id":"w0018" },
    { "title":"楊侯傳說", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"民間傳說;圍頭話",   "cover_image":"/hki-stories/objects/w0019-2.jpg" , "filename":"/hki-stories/objects/", "link": "w0019", "id":"w0019" },
    { "title":"大埔有老虎", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"民間傳說;圍頭話",   "cover_image":"/hki-stories/objects/w0020-1.jpg" , "filename":"/hki-stories/objects/", "link": "w0020", "id":"w0020" },
    { "title":"河上鄉搶花炮", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"鄉村生活;圍頭話",   "cover_image":""  , "filename":"/hki-stories/objects/", "link": "w0021", "id":"w0021" },
    { "title":"圍村生活話當年", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"鄉村生活;圍頭話",   "cover_image":""  , "filename":"/hki-stories/objects/", "link": "w0022", "id":"w0022" },
    { "title":"河上鄉洪聖誕", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"鄉村生活;圍頭話",   "cover_image":""  , "filename":"/hki-stories/objects/", "link": "w0023", "id":"w0023" },
    { "title":"西貢十四鄉神功戲", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"鄉村生活;圍頭話",   "cover_image":""  , "filename":"/hki-stories/objects/", "link": "w0024", "id":"w0024" },
    { "title":"圍頭饞嘴妹", "hkilang":  "圍頭話" ,"format":"compound_object", "subject":"傳統風俗;圍頭話",   "cover_image":""  , "filename":"/hki-stories/objects/", "link": "w0025", "id":"w0025" }
];


/* function to create cards for each item */ 
function makeCard(obj) {
    // find item link
    var itemHref = "/hki-stories/item.html?id=" + obj.link;
    // find images
    var imgSrc, thumbSrc;
    // add images or thumb for objects based on format
    if(obj.youtube) {
        imgSrc = 'https://img.youtube.com/vi/' + obj.youtube + '/hqdefault.jpg';
    } else if (obj.format.includes("image")) {
        imgSrc = obj.filename;
    } else if (obj.format.includes("audio")) {
        thumbSrc = '/hki-stories/assets/lib/icons/soundwave.svg';
    } else if (obj.format.includes("video")) {
        thumbSrc = '/hki-stories/assets/lib/icons/film.svg';  
    } else if (obj.format.includes("pdf")) {
        thumbSrc = '/hki-stories/assets/lib/icons/file-pdf.svg';
    } else if (obj.format.includes("record")) {
        thumbSrc = '/hki-stories/assets/lib/icons/file-text.svg';
    } else if (obj.format.includes("compound")) {
        thumbSrc = '/hki-stories/assets/lib/icons/collection.svg';
        if (obj.cover_image) {
            imgSrc = obj.cover_image;
            thumbSrc = null;
        } else {
            imgSrc = '/hki-stories/assets/img/props-cook.png';
            thumbSrc = null;
        }
    } else if (obj.format.includes("multiple")) {
        thumbSrc = '/hki-stories/assets/lib/icons/postcard.svg';
    } else {
        thumbSrc = '/hki-stories/assets/lib/icons/file-earmark.svg';
    }  
    // start card
    var card = '<div class="item col-lg-4 col-md-6 col-sm-12 mb-2"><div class="card">';
    // top image for photos
    if(imgSrc) {
        card += '<a href="' + itemHref + '"> <img class="card-img-top lazyload" data-src="' + imgSrc + '" alt="Image of ' + obj.title + '"></a>';
    }
    // title
    card += '<div class="card-body text-center"> <h3 class="card-title h4"><a href="' + itemHref + '" class="text-dark">' + obj.title + '</a></h3>';
    // thumb for non-photo items
    if(thumbSrc){
        card += '<p><a href="' + itemHref + '"><img class="lazyload w-50" data-src="' + thumbSrc + '" alt="Thumb Image of ' + obj.title + '"></a></p>';
    }
    // other fields
    card += '<p class="card-text">';
    
    if(obj["subject"]){
    card += '<strong>主題:</strong> ';
    
    var btns = obj["subject"].split(";");
    for (var i = 0, len = btns.length; i < len; i++) {
      if(btns[i] != "") {
        card += '<a class="btn btn-sm btn-secondary m-1 text-wrap" href="/hki-stories/browse.html#' + encodeURIComponent(btns[i].trim()) + '">' + btns[i].trim() + '</a>';
      }
    }
    
    card += '<br>';
    }
    
    if(obj["language"]){
    card += '<strong>語言:</strong> ';
    
    var btns = obj["language"].split(";");
    for (var i = 0, len = btns.length; i < len; i++) {
      if(btns[i] != "") {
        card += '<a class="btn btn-sm btn-secondary m-1 text-wrap" href="/hki-stories/browse.html#' + encodeURIComponent(btns[i].trim()) + '">' + btns[i].trim() + '</a>';
      }
    }
    
    card += '<br>';
    }
    
    if(obj["location"]){
    card += '<strong>位置:</strong> ';
    
    card += obj["location"];
    
    
    }
    
    card += '</p>';
    // // media type
    // if(obj.format != "") {
    //     card += '<p class="card-text"><small><a class="btn btn-sm btn-outline-secondary" href="/hki-stories/browse.html#' + encodeURIComponent(obj.format) + '">' + 
    //     obj.format.split("/").pop().replace("_", " ").toUpperCase() + ' <svg class="bi icon-sprite"><use xlink:href="/hki-stories/assets/lib/cb-icons.svg#';
    //     if(obj.format.includes('image')){
    //         card += 'icon-image';
    //     } else if(obj.format.includes('audio')){
    //         card += 'icon-audio';
    //     } else if(obj.format.includes('video')){
    //         card += 'icon-video';
    //     } else if(obj.format.includes('multiple')){
    //         card += 'icon-multiple';
    //     } else if(obj.format.includes('compound')){
    //         card += 'icon-compound-object';
    //     } else {
    //         card += 'icon-default';
    //     }
    //     card += '"></span></a></small></p>';
    // }
    // view button
    // card += '<hr><a href="' + itemHref + '" class="btn btn-sm btn-light" title="link to ' + obj.title + '">View Full Record</a>';
    // close divs
    card += '</div></div></div>';
    // send back big string
    return card;
}

/* filter items function */
function filterItems(arr,q) {
    // show loading icon
    loadingIcon.classList.remove("d-none");
    // dont filter if no q 
    if (q=="") { 
        var filteredItems = arr; 
    } else {
        q = q.trim().toUpperCase(); 
        // js indexOf filter
        var filteredItems = [];
        for (var i = 0, len = arr.length; i < len; i++) {
            var val = "";
        for (var k in arr[i]) { val += arr[i][k] + " "; }
            if(val.toUpperCase().indexOf(q) != -1){
                filteredItems.push(arr[i]);
            }
        }
    }
    // add number 
    document.querySelector("#numberOf").innerHTML = filteredItems.length + " of " + items.length + " items";
    
    // add stuff, make cards first in giant var, then add all at once to speed things up
    var cards = "";
    for (var i = 0, len = filteredItems.length; i < len; i++) {
        cards += makeCard(filteredItems[i]);
    }
    browseItemsDiv.innerHTML = cards;

    // finish
    filterButton.focus();
    loadingIcon.classList.add("d-none");
};

/* Fisher-Yates shuffle https://bost.ocks.org/mike/shuffle/ */
function shuffle(array) {
    var m = array.length, t, i;
    while (m) {
        i = Math.floor(Math.random() * m--);
        t = array[m];
        array[m] = array[i];
        array[i] = t;
    }
    return array;
}

/* init browse page */
var lang = document.querySelector("#browseItems").getAttribute('filter-language');
if (lang) {
    items = items.filter(item => item.hkilang == lang);
}

/* randomize items once at page load */
shuffle(items);

/* set some elements */ 
var loadingIcon = document.querySelector("#loadingIcon");
var filterTextBox = document.querySelector('#filterTextBox');
var filterButton = document.querySelector("#filterButton");
var browseItemsDiv = document.querySelector("#browseItems");

/* filter if hash in initial URL */
var query = "";
if(window.location.hash) {
    query = decodeURIComponent(location.hash.substr(1));
    filterTextBox.value = query;
    filterItems(items,query);
} else {
    query = "";
    filterItems(items,query);
}

/* filter form */
function submitFilter() {
    query = filterTextBox.value;
    window.location.hash = encodeURIComponent(query);
}
/* reset filters */ 
function resetFilter() {
    query = "";
    filterTextBox.value = query;
    window.location.hash = encodeURIComponent(query);
}

/* filter if hash changes */ 
window.addEventListener("hashchange", function() {
    // read hash
    query = decodeURIComponent(location.hash.substr(1));
    filterTextBox.value = query;
    // filter
    filterItems(items,query);
});

/* item array sorting function */
function sorting(json_object, key_to_sort_by) {
    function sortByKey(a, b) {
        var x = a[key_to_sort_by];
        var y = b[key_to_sort_by];
        if (typeof x === 'string' ) { x = x.toUpperCase(); }
        if (typeof y === 'string' ) { y = y.toUpperCase(); }
        return ((x==null) ? 1: (y==null) ? -1: (x < y) ? -1 : ((x > y) ? 1 : 0));
    }
    json_object.sort(sortByKey);
};

/* add sort function on click of sort options */
var sortFilter = document.querySelector("#sortFilter");
var sortOptions = document.querySelectorAll(".browse-sort-item");
sortOptions.forEach((button) => {
  button.addEventListener("click", (event) => {
    // get the sort field
    var field = button.dataset.filter;
    var display_name = button.textContent;
    // get current filter
    var query = filterTextBox.value;
    // switch active sort option
    sortOptions.forEach((option) => { option.classList.remove("active"); } );
    button.classList.add("active");
    sortFilter.innerHTML = display_name;
    // send to sort and filter
    if (field != 'random') {
        sorting(items, field);
        filterItems(items, query);
    }
    else {
        shuffle(items);
        filterItems(items, query);
    }
  });
}); 
</script>

 <script>
    // When the user scrolls down from the top of the document, show the button
    window.onscroll = function () {
        if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
            document.getElementById("scroll-to-top").style.display = "block";
        } else {
            document.getElementById("scroll-to-top").style.display = "none";
        }
    }
    // scroll to top function
    function scrollToTop() {
        window.scroll({
            top: 0, 
            left: 0, 
            behavior: 'smooth'
        });
    }
</script>
<button id="scroll-to-top" type="button" class="btn btn-link btn-lg" onclick="scrollToTop();" title="Back to Top" aria-label="Back to Top">
    <svg class="bi icon-sprite" role="img" aria-label="Up Arrow">
        <use xlink:href="/hki-stories/assets/lib/cb-icons.svg#icon-back-to-top"/>
    </svg>
</button>

  </body>
</html>
